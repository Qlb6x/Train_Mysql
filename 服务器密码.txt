
mysql -h 570c3b3e44b2f.sh.cdb.myqcloud.com -P 4890 -u cdb_outerroot -p

mysql -h 	570ca5cf1d70e.sh.cdb.myqcloud.com -P 6696 -u cdb_outerroot -p

mysqlslap  --concurrency=100 --iterations=1  --query='select * from ruangong.t_user;' --number-of-queries=10 --debug-info -uroot -pjsj2013

mysqlslap --concurrency=50,100 --create-schema="hcp" --query="select * from tickettable limit 1000" --number-of-queries=5000 --debug-info -h 570ca5cf1d70e.sh.cdb.myqcloud.com -P 6696 -u cdb_outerroot -p

mysqlslap --concurrency=50 --create-schema="hcp" --query="call concurrent_order();" --number-of-queries=1 --debug-info -h 570ca5cf1d70e.sh.cdb.myqcloud.com -P 6696 -u cdb_outerroot -p


mysqlslap --concurrency=50,100 --create-schema="hcp" --query="call concurrent_order();" --number-of-queries=2 --debug-info -h 570c3b3e44b2f.sh.cdb.myqcloud.com -P 4890 -u cdb_outerroot -p


使用--auto-generate-sql参数表示用mysqlslap工具自己生成的SQL脚本来测试并发压力
并发测试，使用–concurrency来模拟并发连接，连接数可以多个，用逗号隔开
--query=name,-q 指定自定义脚本执行测试，例如可以调用自定义的一个存储过程或者sql语句来执行测试。--create-schema 指定自定义的测试数据库名称，
show status like 'table%';
19a89b3b30b63630dfda5a771598f6ee


string url = "http://apis.baidu.com/apistore/iplookupservice/iplookup";
System.Net.IPHostEntry myEntry = System.Net.Dns.GetHostEntry(System.Net.Dns.GetHostName()); 
string param = myEntry.AddressList[0].ToString();
string result = request(url,param);

/// <summary>
/// 发送HTTP请求
/// </summary>
/// <param name="url">请求的URL</param>
/// <param name="param">请求的参数</param>
/// <returns>请求结果</returns>
public static string request(string url, string param)
{
    string strURL = url + '?' + param;
    System.Net.HttpWebRequest request;
    request = (System.Net.HttpWebRequest)WebRequest.Create(strURL);
    request.Method = "GET";
    // 添加header
    request.Headers.Add("apikey", "19a89b3b30b63630dfda5a771598f6ee");
    System.Net.HttpWebResponse response;
    response = (System.Net.HttpWebResponse)request.GetResponse();
    System.IO.Stream s;
    s = response.GetResponseStream();
    string StrDate = "";
    string strValue = "";
    StreamReader Reader = new StreamReader(s, Encoding.UTF8);
    while ((StrDate = ReaderReadLine()) != null)
    {
        strValue += StrDate + "\r\n";
    }
    return strValue;
}

